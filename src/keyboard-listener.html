<!--<link rel="import" href="../bower_components/iron-a11y-keys/iron-a11y-keys.html">-->
<link rel="import" href="multi-keydown-filter.html">
<link rel="import" href="document-keyboard.html">
<link rel="import" href="keyevent-code.html">
<link rel="import" href="finger-position-filter.html">

<dom-module id="keyboard-listener">
    <template>
        <multi-keydown-filter on-multikeydown="multikeys" on-keydown="singlekeys" on-keyup="singlekeys" _keysdown="{{highKeys}}">
            <finger-position-filter i-will-adds-finger-positions-to-events>
                <keyevent-code>
                    <document-keyboard></document-keyboard>
                </keyevent-code>
            </finger-position-filter>
            <!--<iron-a11y-keys id="keys" keys="[[keysAsString]]" target="[[_getDocumentBody]]" on-keys-pressed="keyPress"></iron-a11y-keys>-->
        </multi-keydown-filter>

        <!-- azerty

            a s => as
            a:KeyQ:-441:g#
            s:KeyS:-341:f#
            a:KeyQ:-441:g#,s:KeyS:-341:f#

            NAME:a:KeyQ:-441:g#@target
            c c f g g:1
            arg:arg:arg:arg:arg@name

            judge

            c#
        -->

    </template>
    <script>
        Polymer({
            is: 'keyboard-listener',
            properties: {
                log: {
                    type: Array,
                    value: function () {
                        return [];
                    }
                }
            },
            multikeys: function (e) {
                this.push("log", e);
            },
            singlekeys: function (e) {
                this.push("log", e);
            },
        });
    </script>
</dom-module>